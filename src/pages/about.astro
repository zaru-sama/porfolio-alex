---
import { Code, Globe, Monitor, Palette, Smartphone, Zap } from "@lucide/astro";
import { siteConfig } from "@/config/site.js";
import Button from "@/components/ui/Button.astro";
import Matter from "@/components/ui/Matter.astro";
import Layout from "@/layouts/Layout.astro";
import Toc from "@/components/widgets/Toc.astro";
import SocialCard from "@/components/cards/SocialCard.astro";

// Manually define page table of contents structure
const headings = [
  { depth: 2, slug: "about-me", text: "About Me" },
  { depth: 2, slug: "expertise", text: "Expertise" },
  { depth: 2, slug: "tool-stack", text: "Tool Stack" },
  { depth: 2, slug: "lets-connect", text: "Let's Connect" },
];

const filtered = headings.filter((h) => h.depth <= 3);
---

<Layout title="About Me">
  <!-- Mobile TOC -->
  <div class="block lg:hidden px-7 pt-6">
    <Toc headings={filtered} />
  </div>

  <!-- Main container -->
  <div class="relative site-container mx-auto my-8">
    <div class="flex flex-col lg:flex-row gap-8 lg:gap-12 xl:gap-16">
      <!-- Left TOC - Fixed on desktop -->
      <aside class="relative hidden lg:block lg:w-40 xl:w-50 flex-shrink-0">
        <div class="toc-sticky-wrapper">
          <Toc headings={filtered} />
        </div>
      </aside>

      <!-- Right main content - Adaptive width -->
      <main class="relative flex-1 min-w-0 w-full lg:max-w-none">
        <div
          class="w-full"
          data-aos="fade-up-xs"
          data-aos-duration="500"
          data-aos-once="true"
        >
          <h2
            id="about-me"
            class="text-2xl font-brand tracking-tight sm:text-3xl lg:text-4xl"
          >
            About Me
          </h2>
          <div
            class="w-full border-b-1 border-dashed border-b-gray-200 dark:border-b-neutral-700 mt-4 mb-8"
          >
          </div>
        </div>

        <p
          class="text-3xl mt-2 mb-2 font-brand italic text-left text-primary-strong dark:text-primary-light"
          data-aos="fade-up-xs"
          data-aos-delay="200"
          data-aos-duration="500"
          data-aos-once="true"
        >
          "Design for people. Code for scale."
        </p>
        <!-- Social Cards - AOS animation -->
        <div
          class="social mt-8 mb-8"
          data-aos-delay="200"
          data-aos="fade-up-sm"
          data-aos-duration="600"
          data-aos-once="true"
        >
          <SocialCard displaySocialIds={[1, 2, 3, 4]} />
        </div>

        <div
          class="w-full border-b-1 border-dashed border-b-gray-200 dark:border-b-neutral-700 mt-4 mb-8"
        >
        </div>

        <p
          class="text-xl font-medium text-left text-neutral-800 dark:text-neutral-100"
          data-aos="fade-up-xs"
          data-aos-delay="100"
          data-aos-duration="500"
          data-aos-once="true"
        >
          I’m Alex, a Front-end Web Developer and UI/UX-focused designer.
        </p>
        <p
          class="text-neutral-700 pb-4 pt-4 leading-[1.8] dark:text-neutral-200"
          data-aos="fade-up-xs"
          data-aos-delay="200"
          data-aos-duration="500"
          data-aos-once="true"
        >
          With 5+ years of experience building responsive websites and web apps,
          I combine clean interface design with modern front-end development
          (JavaScript, React, Vue.js, TypeScript, Tailwind CSS, WordPress). I’m
          also strong in graphic design — from UI assets and banners to logos,
          posters, and infographics—turning ideas into polished,
          production-ready results.
        </p>
        <p
          class="text-neutral-700 leading-[1.8] dark:text-neutral-200"
          data-aos="fade-up-xs"
          data-aos-delay="300"
          data-aos-duration="500"
          data-aos-once="true"
        >
          To me, great design isn’t just visua — it’s how products become clear,
          fast, scalable, and easy to use. By bridging design and development, I
          help teams ship experiences that perform well, communicate
          consistently, and support real business goals.
        </p>

        <div
          class="mt-8 mb-16 flex item-center justify-start gap-3"
          data-aos="fade-up-xs"
          data-aos-delay="400"
          data-aos-duration="500"
          data-aos-once="true"
        >
          <Button
            url={siteConfig.resume}
            target="_blank"
            type="fill"
            className="group"
          >
            Resume <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="2"
              stroke="currentColor"
              class="size-4"
            >
              <path
                class="group-hover:-translate-y-1 transition"
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path>
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5"
              ></path>
            </svg>
          </Button>
        </div>

        <!-- <img src="/assets/about.jpg" class="relative z-30 w-full my-10 rounded-xl" /> -->

        <div
          class="w-full border-b-1 border-dashed border-b-neutral-200 dark:border-b-neutral-700 mt-4 mb-8"
        >
        </div>
        <section>
          <h2
            id="expertise"
            class="mt-8 mb-2 text-[28px] text-neutral-800 dark:text-neutral-200 font-brand"
            data-aos="fade-up-xs"
            data-aos-duration="500"
            data-aos-once="true"
          >
            Expertise
          </h2>
          <div
            class="list flex flex-wrap gap-3 mt-4 mb-12 w-full items-center justify-start"
            data-aos="fade-up-xs"
            data-aos-delay="100"
            data-aos-duration="600"
            data-aos-once="true"
          >
            <!-- Product Design -->
            <div
              class="item flex justify-start items-start flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800 dark:text-neutral-200"
            >
              <div
                class="flex text-primary-light justify-center items-center flex-grow-0 flex-shrink-0 gap-2"
              >
                <Palette size={22} />
                <div
                  class="flex-grow-0 flex-shrink-0 text-base font-medium text-left text-neutral-700 dark:text-neutral-200"
                >
                  Product Design
                </div>
              </div>
            </div>
            <!-- Website Design -->
            <div
              class="item flex justify-start items-start flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800"
            >
              <div
                class="flex text-primary-light justify-center items-center flex-grow-0 flex-shrink-0 gap-2"
              >
                <Globe size={22} />
                <div
                  class="flex-grow-0 flex-shrink-0 text-base font-medium text-left text-neutral-700 dark:text-neutral-200"
                >
                  Website Design
                </div>
              </div>
            </div>
            <!-- Brand Design -->
            <div
              class="item flex justify-start items-start flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800"
            >
              <div
                class="flex text-primary-light justify-center items-center flex-grow-0 flex-shrink-0 gap-2"
              >
                <Zap size={22} />
                <div
                  class="flex-grow-0 flex-shrink-0 text-base font-medium text-left text-neutral-700 dark:text-neutral-200"
                >
                  Brand Design
                </div>
              </div>
            </div>
            <!-- Prototyping -->
            <div
              class="item flex justify-start items-start flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800"
            >
              <div
                class="flex text-primary-light justify-center items-center flex-grow-0 flex-shrink-0 gap-2"
              >
                <Monitor size={22} />
                <div
                  class="flex-grow-0 flex-shrink-0 text-base font-medium text-left text-neutral-700 dark:text-neutral-200"
                >
                  Prototyping
                </div>
              </div>
            </div>
            <!-- Development -->
            <div
              class="item flex justify-start items-start flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800"
            >
              <div
                class="flex text-primary-light justify-center items-center flex-grow-0 flex-shrink-0 gap-2"
              >
                <Code size={22} />
                <div
                  class="flex-grow-0 flex-shrink-0 text-base font-medium text-left text-neutral-700 dark:text-neutral-200"
                >
                  Development
                </div>
              </div>
            </div>
            <!-- UI/UX Design -->
            <div
              class="item flex justify-start items-start flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800"
            >
              <div
                class="flex text-primary-light justify-center items-center flex-grow-0 flex-shrink-0 gap-2"
              >
                <Smartphone size={22} />
                <div
                  class="flex-grow-0 flex-shrink-0 text-base font-medium text-left text-neutral-700 dark:text-neutral-200"
                >
                  UI/UX Design
                </div>
              </div>
            </div>
          </div>
        </section>

        <div
          class="w-full border-b-1 border-dashed border-b-gray-200 dark:border-b-neutral-700 mt-4 mb-8"
        >
        </div>

        <section>
          <h2
            id="tool-stack"
            class="mt-12 mb-4 text-[28px] text-neutral-800 dark:text-neutral-200 font-brand"
            data-aos="fade-up-xs"
            data-aos-duration="500"
            data-aos-once="true"
          >
            Tool Stack
          </h2>
          <div
            class="tool-stack-box relative bg-white border-accent/25 dark:bg-gray-900 rounded-xl overflow-hidden w-full h-[500px]"
            data-aos="fade-up-sm"
            data-aos-delay="100"
            data-aos-duration="600"
            data-aos-once="true"
          >
            <Matter />
            <!-- Fallback content if Matter.js doesn't load -->
            <div
              class="absolute inset-0 flex items-center justify-center text-white opacity-50"
            >
            </div>
          </div>
        </section>

        <div
          class="w-full border-b-1 border-dashed border-b-gray-200 dark:border-b-neutral-700 mt-12 mb-12"
        >
        </div>

        <section class="mb-30">
          <h2
            id="lets-connect"
            class="mt-12 mb-4 text-[28px] text-neutral-800 dark:text-neutral-200 font-brand"
            data-aos="fade-up-xs"
            data-aos-duration="500"
            data-aos-once="true"
          >
            Let's Connect
          </h2>
          <p
            class="text-sm leading-6 text-neutral-700 dark:text-neutral-300"
            data-aos="fade-up-xs"
            data-aos-delay="100"
            data-aos-duration="500"
            data-aos-once="true"
          >
            I’m always glad to meet new people — feel free to reach out by <a
              href="alex_busch_cv@proton.me"
              class="underline">email</a
            > anytime.
          </p>
        </section>
      </main>
    </div>
  </div>
</Layout>

<style>
  .toc-sticky-wrapper {
    position: sticky;
    top: 8rem;
  }
</style>
